<%! from django.utils.translation import ugettext as _ %>
<%! import django_comment_client.helpers as helpers %>
<%! from django.template.defaultfilters import escapejs %>
<%! from django.core.urlresolvers import reverse %>

<%inherit file="../main.html" />
<%namespace name='static' file='../static_content.html'/>
<%block name="bodyclass">discussion</%block>
<%block name="pagetitle">${_("Discussion - {course_number}").format(course_number=course.display_number_with_default) | h}</%block>
<%block name="nav_skip">#discussion-container</%block>

<%block name="headextra">
<%static:css group='style-course-vendor'/>
<%static:css group='style-course'/>

<%include file="_js_head_dependencies.html" />
</%block>

<%block name="js_extra">
<%include file="_js_body_dependencies.html" />
<%static:js group='discussion'/>
</%block>

<%include file="_discussion_course_navigation.html" args="active_page='discussion'" />

<%include file="_new_post.html" />

<div class="row">
<section class="discussion countainer" id="discussion-container" data-roles="${roles}" data-course-id="${course_id}" data-user-info="${user_info}" data-threads="${threads}" data-thread-pages="${thread_pages}" data-content-info="${annotated_content_info}" data-flag-moderator="${flag_moderator}" style="min-width: 0;">
    <div class="discussion-body">
      <div class="row">
	<div class="columns small-12 hide-for-medium-up">
	  <!-- スマホ用新規投稿ボタン -->
	  <a href="#" class="f_button small right radius expand success" data-reveal-id="discussion_new_post_modal">
	    <span class="icon icon-edit new-post-icon" style="margin-right:0.3rem; color:white;"></span>
	    ${_("New Post")}</a>
	</div>
	<div class="columns medium-12 show-for-medium-only">
	  <!-- medium用新規投稿ボタン -->
	  <a href="#" class="f_button small right radius success" data-reveal-id="discussion_new_post_modal">
	    <span class="icon icon-edit new-post-icon" style="margin-right:0.3rem; color:white;"></span>
	    ${_("New Post")}</a>
	</div>
	<div class="columns large-3 medium-4 small-12" style="margin-bottom:0px;">
          <div class="sidebar columns" style="width:100%; padding:0px;"></div>
	</div>
	<div class="columns medium-8 large-9">
          <div class="discussion-column" style="padding-bottom:2rem;border:dotted 1px grey; border-radius:2px; background-color:#fafafa;">
	  </div>
        </div>
      </div>
    </div>
</section>
</div>
<%include file="_underscore_templates.html" />
<%include file="_thread_list_template.html" />
